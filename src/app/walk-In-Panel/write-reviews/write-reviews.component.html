<!--Login Page Ends-->
<section id="mainContainer" class="page-container">
    <div class="container-fluid">
        <div class="row full-height-vh">
            <div class="col-12">
                <div class="row pt-5 pb-3">
                    <div class="col-12 text-center">
                        <label class="mysalontheme-walkin-header">Write Review for A Service</label>
                    </div>
                </div>
                <div class="row"  *ngIf="!inProgress">
                    <div class="col-lg-2 col-md-1 col-sm-12"></div>
                    <div class="col-lg-8 col-md-10 col-sm-12">
                        <form class="mt-2" *ngIf="!isTheUserSearched && !appointmentSelected"
                            [formGroup]="searchForm">
                            <div class="row mt-5 text-center">
                                <div class="col-12">
                                    <input type="text" formControlName='mobile' [(ngModel)]="phone"
                                        style="width: 450px;" class="mysalontheme-input-lg" placeholder="Enter mobile number">
                                    <button class="mysalontheme-btn-lg ml-1" (click)="search()"> Search</button>
                                </div>
                            </div>
                        </form>
                        <div class="row" *ngIf="isTheUserSearched && !appointmentSelected">
                            <div class="col-6">
                                <h5>Name: {{newClient.name}}</h5>
                            </div>
                            <div class="col-6">
                                <h5>Mobile: {{newClient.mobile}}</h5>
                            </div>
                        </div>
                        <div class="row" *ngIf="isTheUserSearched && !appointmentSelected" style="height:380px; overflow-y:scroll;overflow-x: hidden;">
                            <div class="col-12">
                                <div class="row mysalontheme-ui mt-1" *ngFor="let appointment of appointmentsList"
                                    (click)="selectAppointment(appointment)">
                                    <div class="col-md-8">
                                        <label class="servic-name">{{appointment.services_name}}</label>
                                    </div>
                                    <div class="col-md-4 text-right">
                                        {{cService.getStringDateFormatByCurtureAndType(appointment.dateAndTime, false)}}
                                        {{appointment.hours}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="appointmentSelected">
                            <div class="col-12">
                                <form [formGroup]="reviewForm" (ngSubmit)="addReview()">
                                    <div class="row">
                                        <div class="col-12">
                                            <label class="sub-heading">Overall Rewiew</label> <br>
                                            <i [ngClass]="{  'success':feedBack.rating>=1}"
                                                class="fa fa-2x fa-star mr-1" (click)="raiting(1)"></i>
                                            <i [ngClass]="{  'success':feedBack.rating>=2}"
                                                class="fa fa-2x fa-star mr-1" (click)="raiting(2)"></i>
                                            <i [ngClass]="{  'success':feedBack.rating>=3}"
                                                class="fa fa-2x fa-star mr-1" (click)="raiting(3)"></i>
                                            <i [ngClass]="{  'success':feedBack.rating>=4}"
                                                class="fa fa-2x fa-star mr-1" (click)="raiting(4)"></i>
                                            <i [ngClass]="{  'success':feedBack.rating>=5}"
                                                class="fa fa-2x fa-star mr-1" (click)="raiting(5)"></i>
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col-12">
                                            <label class="sub-heading">Add a written review</label>
                                            <textarea type="text" formControlName='comment' [(ngModel)]="comment"
                                                placeholder="Here you can write your review" class="mysalontheme-input"
                                                style="height:200px;"></textarea>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-12">
                                            <button type="submit" class="mysalontheme-btn-lg pull-right">
                                                Submit
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-1 col-sm-12"></div>
                </div>
                <div class="row mt-3" *ngIf="isTheUserSearched && !appointmentSelected && !inProgress">
                    <div class="col-12">
                        <button type="button" (click)="backToHome()" class="mysalontheme-btn-lg"> <i class="fa fa-arrow-left"></i> Back
                        </button>
                    </div>
                </div>
                <div class="row" *ngIf="inProgress">
                    <div class="col-md-12 text-center align-middle">
                        <i style="font-size:80px" class="fa fa-gear fa-spin mt-4"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>