<form [formGroup]="appointmentForm" (ngSubmit)="saveAppointment()">
    <div class="row">
        <div class="col-12">
            <div class="row" *ngIf="!inProgress">
                <div class="col-lg-6">
                    <label class="page-heading pull-left"> Update Appointment Info</label>
                </div>
                <div class="col-lg-6">
                    <button class="mysalontheme-btn-sm pull-right d-none d-sm-block mr-1" type="submit">
                        <a class="text-decoration-none text-white"><i class="fa fa-floppy-o" aria-hidden="true"></i></a>
                    </button>

                    <button type="button" class="mysalontheme-btn-sm pull-right d-none d-sm-block mr-1" (click)="back()">
                        <i class="fa fa-chevron-left" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

            <div class="row" *ngIf="!inProgress">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-12 col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="card-block">
                                        <div class="form-body">
                                            <h5 class="form-section"><i class="ft-eye"></i> Client Information
                                            </h5>
                                            <div class="row">
                                                <div class="col-5">
                                                    <label><b>Customer :</b>
                                                        {{appointmentInfo.customerName}}</label><br>
                                                </div>
                                                <div class="col-5">
                                                    <label><b>Contact :</b>
                                                        {{appointmentInfo.customerContact}}</label><br>
                                                </div>
                                                <div class="col-2">
                                                    <button type="button"
                                                        (click)="editClient(appointmentInfo.customerId)"
                                                        class="mysalontheme-btn-sm pull-right"><i class="fa fa-edit"></i>
                                                        </button>
                                                </div>
                                            </div>


                                            <h5 class="form-section mt-3"><i class="fa fa-tasks"></i> Activities
                                            </h5>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>Status</label>
                                                        <select class="form-control"
                                                            [(ngModel)]="appointmentInfo.status"
                                                            formControlName="status">
                                                            <option value=""> Select Status </option>
                                                            <option value="upcoming"> Upcoming</option>
                                                            <option value="in-progress"> In Progress</option>
                                                            <option value="completed"> Completed</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>Assigned To</label>
                                                        <select class="form-control"
                                                            [(ngModel)]="appointmentInfo.assignToId"
                                                            formControlName="assignToId">
                                                            <option value="0"> Select employees </option>
                                                            <option value="{{employees.id}}"
                                                                *ngFor="let employees of employeesList">
                                                                {{employees.name}}</option>
                                                        </select>
                                                    </div>

                                                   
                                                </div>
                                            </div>
                                            <div class="row" *ngIf="false">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>Start Date & Time</label>
                                                        <input placeholder="Enter start Date" autocomplete="off"
                                                            ngbDatepicker #remove1="ngbDatepicker"
                                                            (click)="remove1.toggle()" class="form-control"
                                                            formControlName='startDate'
                                                            [(ngModel)]="appointmentStartDateTime">
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>End Date & Time</label>
                                                        <input placeholder="Enter Completed Date" autocomplete="off"
                                                            ngbDatepicker #remove2="ngbDatepicker"
                                                            (click)="remove2.toggle()" class="form-control"
                                                            formControlName='EndDate'
                                                            [(ngModel)]="appointmentEndDateTime">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>Date</label>
                                                        <input placeholder="Enter appointment Date" autocomplete="off"
                                                            ngbDatepicker #remove="ngbDatepicker"
                                                            (click)="remove.toggle()" class="form-control"
                                                            formControlName='dateAndTime'
                                                            [(ngModel)]="appointmentDateTime">
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label>Time</label>
                                                        <select class="form-control" [(ngModel)]="appointmentInfo.hours" [ngModelOptions]="{standalone: true}" >
                                                        <option value="9.00 am">9.00 am</option>
                                                        <option value="9.15 am">9.15 am</option>
                                                        <option value="9.30 am">9.30 am</option>
                                                        <option value="9.45 am">9.45 am</option>
                
                                                        <option value="10.00 am">10.00 am</option>
                                                        <option value="10.15 am">10.15 am</option>
                                                        <option value="10.30 am">10.30 am</option>
                                                        <option value="10.45 am">10.45 am</option>
                
                                                        <option value="11.00 am">11.00 am</option>
                                                        <option value="11.15 am">11.15 am</option>
                                                        <option value="11.30 am">11.30 am</option>
                                                        <option value="11.45 am">11.45 am</option>
                
                                                        <option value="12.00 am">12.00 am</option>
                                                        <option value="12.15 pm">12.15 pm</option>
                                                        <option value="12.30 pm">12.30 pm</option>
                                                        <option value="12.45 pm">12.45 pm</option>
                
                                                        <option value="1.00 pm">01.00 pm</option>
                                                        <option value="1.15 pm">01.15 pm</option>
                                                        <option value="1.30 pm">01.30 pm</option>
                                                        <option value="1.45 pm">01.45 pm</option>
                
                                                        <option value="2.00 pm">02.00 pm</option>
                                                        <option value="2.15 pm">02.15 pm</option>
                                                        <option value="2.30 pm">02.30 pm</option>
                                                        <option value="2.45 pm">02.45 pm</option>
                
                                                        <option value="3.00 pm">03.00 pm</option>
                                                        <option value="3.15 pm">03.15 pm</option>
                                                        <option value="3.30 pm">03.30 pm</option>
                                                        <option value="3.45 pm">03.45 pm</option>
                
                                                        <option value="4.00 pm">04.00 pm</option>
                                                        <option value="4.15 pm">04.15 pm</option>
                                                        <option value="4.30 pm">04.30 pm</option>
                                                        <option value="4.45 pm">04.45 pm</option>
                
                                                        <option value="5.00 pm">05.00 pm</option>
                                                    </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <h5 class="form-section mt-3"><i class="fa fa-tasks"></i> Services
                                            </h5>
                                            <div class="row">
                                                <div class="col-12">
                                                    <ngb-tabset #t="ngbTabset">
                                                        <ngb-tab id="{{category.id}}"
                                                            *ngFor="let category of categories">
                                                            <ng-template ngbTabTitle>
                                                                <div class="d-none d-sm-block">
                                                                    (C{{category.id}}) &nbsp;<label>
                                                                        {{category.name}}</label>
                                                                </div>
                                                                <div class="d-block d-sm-none">
                                                                    {{category.name}}</div>
                                                            </ng-template>
                                                            <ng-template ngbTabContent>
                                                                <div matchHeight="card" class="pt-4 p-2">
                                                                    <div class="row">
                                                                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12"
                                                                            *ngFor="let service of category.services">
                                                                            <div [ngClass]="{'selected-Company': service.isSelected, 'unselected-Company':!service.isSelected }"
                                                                                (click)="onSelectDeselect(service)">
                                                                                (S{{service.id}}) {{service.name}}
                                                                                <i *ngIf="service.isSelected"
                                                                                    class="fa fa-check pull-right"></i>
                                                                                <i *ngIf="!service.isSelected"
                                                                                    class="fa fa-times pull-right"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </ng-template>
                                                        </ngb-tab>
                                                    </ngb-tabset>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="inProgress">
                <div class="col-md-12 text-center align-middle">
                     <i style="font-size:80px" class="fa fa-gear fa-spin mt-4"></i>
                    
                </div>
            </div>
        </div>
    </div>
</form>